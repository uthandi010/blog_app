{"ast":null,"code":"import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, vModelText as _vModelText, withDirectives as _withDirectives, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, withModifiers as _withModifiers } from \"vue\";\nconst _hoisted_1 = {\n  class: \"container\"\n};\nconst _hoisted_2 = {\n  key: 0\n};\nconst _hoisted_3 = {\n  class: \"text-danger\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_cache[12] || (_cache[12] = _createElementVNode(\"h1\", null, \"New Blog Post\", -1 /* HOISTED */)), $data.errors.length ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [_createElementVNode(\"h3\", _hoisted_3, _toDisplayString($data.errors.join(', ')), 1 /* TEXT */)])) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"form\", {\n    onSubmit: _cache[3] || (_cache[3] = _withModifiers((...args) => $options.submitForm && $options.submitForm(...args), [\"prevent\"]))\n  }, [_createElementVNode(\"div\", null, [_cache[4] || (_cache[4] = _createElementVNode(\"label\", {\n    for: \"title\"\n  }, \"Title\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.title = $event),\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.title]])]), _cache[8] || (_cache[8] = _createElementVNode(\"br\", null, null, -1 /* HOISTED */)), _createElementVNode(\"div\", null, [_cache[5] || (_cache[5] = _createElementVNode(\"label\", {\n    for: \"description\"\n  }, \"Description\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"textarea\", {\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.description = $event),\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.description]])]), _cache[9] || (_cache[9] = _createElementVNode(\"br\", null, null, -1 /* HOISTED */)), _createElementVNode(\"div\", null, [_cache[6] || (_cache[6] = _createElementVNode(\"label\", {\n    for: \"image\"\n  }, \"Upload Image (JPEG, 2MB-8MB)\", -1 /* HOISTED */)), _createElementVNode(\"input\", {\n    type: \"file\",\n    onChange: _cache[2] || (_cache[2] = (...args) => $options.handleFileUpload && $options.handleFileUpload(...args)),\n    accept: \"image/jpeg\",\n    class: \"form-control\"\n  }, null, 32 /* NEED_HYDRATION */)]), _cache[10] || (_cache[10] = _createElementVNode(\"br\", null, null, -1 /* HOISTED */)), _cache[11] || (_cache[11] = _createElementVNode(\"div\", null, [_createElementVNode(\"button\", {\n    type: \"submit\"\n  }, \"Create Blog Post\")], -1 /* HOISTED */)), _createVNode(_component_router_link, {\n    to: \"/\",\n    class: \"btn btn-secondary\"\n  }, {\n    default: _withCtx(() => _cache[7] || (_cache[7] = [_createTextVNode(\"Back to Blog Posts\")])),\n    _: 1 /* STABLE */\n  })], 32 /* NEED_HYDRATION */)]);\n}","map":{"version":3,"names":["class","key","_createElementBlock","_hoisted_1","_createElementVNode","$data","errors","length","_hoisted_2","_hoisted_3","_toDisplayString","join","_createCommentVNode","onSubmit","_cache","_withModifiers","args","$options","submitForm","for","type","$event","title","required","description","onChange","handleFileUpload","accept","_createVNode","_component_router_link","to","default","_withCtx","_createTextVNode","_"],"sources":["/Users/francium/app/frontend/src/components/blogpost/NewBlogpost.vue"],"sourcesContent":["<template>\n    <div class=\"container\">\n        <h1>New Blog Post</h1>\n        <div v-if=\"errors.length\">\n            <h3 class=\"text-danger\">\n                {{ errors.join(', ') }}\n            </h3>\n        </div>\n        <form @submit.prevent=\"submitForm\">\n            <div>\n                <label for=\"title\">Title</label>\n                <input type=\"text\" v-model=\"title\" required />\n            </div><br>\n            <div>\n                <label for=\"description\">Description</label>\n                <textarea v-model=\"description\" required></textarea>\n            </div><br>\n            <div>\n                <label for=\"image\">Upload Image (JPEG, 2MB-8MB)</label>\n                <input type=\"file\" @change=\"handleFileUpload\" accept=\"image/jpeg\" class=\"form-control\" />\n            </div><br>\n            <div>\n                <button type=\"submit\">Create Blog Post</button>\n            </div>\n            <router-link to=\"/\" class=\"btn btn-secondary\">Back to Blog Posts</router-link>\n        </form>\n    </div>\n</template>\n\n<script>\nexport default {\n    data() {\n        return {\n            title: '',\n            description: '',\n            image: null,\n            errors: []\n        };\n    },\n    methods: {\n        handleFileUpload(event) {\n            this.image = event.target.files[0];\n        },\n        async submitForm() {\n            this.errors = [];\n            if (!this.image || this.image.size < 2 * 1024 * 1024 || this.image.size > 8 * 1024 * 1024) {\n                this.errors.push('Image must be a JPEG and between 2MB and 8MB.');\n                return;\n            }\n\n            try {\n                const response = await axios.post('http://127.0.0.1:3000/api/v1/blog_posts', {\n                    blog_post: {\n                        title: this.title,\n                        description: this.description,\n                        picture: this.image\n                    }\n                }, \n                {\n                    headers: {\n                        'Content-Type': 'application/json',\n                    }\n                });\n                console.log('Blog post created:', response);\n                deb\n                this.$router.push('/blog-posts');\n            } catch (error) {\n                this.errors.push('Failed to create blog post.');\n            }\n        }\n    }\n};\n</script>\n\n<style scoped>\n.container {\n    background-color:#c2ecd9;\n    padding: 2rem;\n    border-radius: 20px;\n    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    flex-direction: column;\n    width: 300px;\n    margin: 0 auto;\n}\n\nh1 {\n    text-align: center;\n    color: #333;\n    margin-bottom: 1.5rem;\n}\n\ninput, textarea {\n    width: 100%;\n    padding: 0.5rem;\n    border: 1px solid #ddd;\n    border-radius: 4px;\n    font-size: 1rem;\n}\n\nlabel {\n    display: block;\n    margin-bottom: 0.5rem;\n    color: #000000;\n    font-size: 1.2rem;\n}\n\nbutton {\n    width: 100%;\n    padding: 0.75rem;\n    background-color: #1877f2;\n    color: #fff;\n    border: none;\n    border-radius: 4px;\n    font-size: 1rem;\n    cursor: pointer;\n    transition: background-color 0.3s ease;\n}\n\nbutton:hover {\n    background-color: #00935b;\n}\n\n.text-danger {\n    color: red;\n    font-size: 18px;\n    font-weight: bold;\n    margin-bottom: 15px;\n}\n</style>"],"mappings":";;EACSA,KAAK,EAAC;AAAW;;EAD1BC,GAAA;AAAA;;EAIgBD,KAAK,EAAC;AAAa;;;uBAH/BE,mBAAA,CAyBM,OAzBNC,UAyBM,G,4BAxBFC,mBAAA,CAAsB,YAAlB,eAAa,sBACNC,KAAA,CAAAC,MAAM,CAACC,MAAM,I,cAAxBL,mBAAA,CAIM,OAPdM,UAAA,GAIYJ,mBAAA,CAEK,MAFLK,UAEK,EAAAC,gBAAA,CADEL,KAAA,CAAAC,MAAM,CAACK,IAAI,uB,KAL9BC,mBAAA,gBAQQR,mBAAA,CAiBO;IAjBAS,QAAM,EAAAC,MAAA,QAAAA,MAAA,MARrBC,cAAA,KAAAC,IAAA,KAQ+BC,QAAA,CAAAC,UAAA,IAAAD,QAAA,CAAAC,UAAA,IAAAF,IAAA,CAAU;MAC7BZ,mBAAA,CAGM,c,0BAFFA,mBAAA,CAAgC;IAAzBe,GAAG,EAAC;EAAO,GAAC,OAAK,sB,gBACxBf,mBAAA,CAA8C;IAAvCgB,IAAI,EAAC,MAAM;IAXlC,uBAAAN,MAAA,QAAAA,MAAA,MAAAO,MAAA,IAW4ChB,KAAA,CAAAiB,KAAK,GAAAD,MAAA;IAAEE,QAAQ,EAAR;iDAAPlB,KAAA,CAAAiB,KAAK,E,+BAC/BlB,mBAAA,CAAI,sCACVA,mBAAA,CAGM,c,0BAFFA,mBAAA,CAA4C;IAArCe,GAAG,EAAC;EAAa,GAAC,aAAW,sB,gBACpCf,mBAAA,CAAoD;IAfpE,uBAAAU,MAAA,QAAAA,MAAA,MAAAO,MAAA,IAemChB,KAAA,CAAAmB,WAAW,GAAAH,MAAA;IAAEE,QAAQ,EAAR;iDAAblB,KAAA,CAAAmB,WAAW,E,+BAC5BpB,mBAAA,CAAI,sCACVA,mBAAA,CAGM,c,0BAFFA,mBAAA,CAAuD;IAAhDe,GAAG,EAAC;EAAO,GAAC,8BAA4B,sBAC/Cf,mBAAA,CAAyF;IAAlFgB,IAAI,EAAC,MAAM;IAAEK,QAAM,EAAAX,MAAA,QAAAA,MAAA,UAAAE,IAAA,KAAEC,QAAA,CAAAS,gBAAA,IAAAT,QAAA,CAAAS,gBAAA,IAAAV,IAAA,CAAgB;IAAEW,MAAM,EAAC,YAAY;IAAC3B,KAAK,EAAC;mEACtEI,mBAAA,CAAI,sC,4BACVA,mBAAA,CAEM,cADFA,mBAAA,CAA+C;IAAvCgB,IAAI,EAAC;EAAQ,GAAC,kBAAgB,E,sBAE1CQ,YAAA,CAA8EC,sBAAA;IAAjEC,EAAE,EAAC,GAAG;IAAC9B,KAAK,EAAC;;IAxBtC+B,OAAA,EAAAC,QAAA,CAwB0D,MAAkBlB,MAAA,QAAAA,MAAA,OAxB5EmB,gBAAA,CAwB0D,oBAAkB,E;IAxB5EC,CAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
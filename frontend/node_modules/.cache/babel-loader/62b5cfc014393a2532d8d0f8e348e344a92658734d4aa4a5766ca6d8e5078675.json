{"ast":null,"code":"import { createRouter, createWebHistory } from 'vue-router';\nimport { useStore } from 'vuex';\nimport SignIn from '../components/users/SignIn.vue';\nimport SignUp from '../components/users/SignUp.vue';\nimport BodyElement from '../components/blogpost/BodyElement.vue';\nimport NewBlogPost from '../components/blogpost/NewBlogpost.vue';\nimport ShowBlogpost from '../components/blogpost/ShowBlogpost.vue';\nimport UserProfile from '../components/users/UserProfile.vue';\nconst routes = [{\n  path: '/sign-in',\n  name: 'SignIn',\n  component: SignIn\n}, {\n  path: '/sign-up',\n  name: 'SignUp',\n  component: SignUp\n}, {\n  path: '/',\n  name: 'BodyElement',\n  component: BodyElement\n}, {\n  path: '/new-blogpost',\n  name: 'NewBlogPost',\n  component: NewBlogPost\n}, {\n  path: '/new-blogpost/:id',\n  name: 'NewBlogPostwithid',\n  component: NewBlogPost,\n  props: true\n}, {\n  path: '/blogpost/:id',\n  name: 'ShowBlogpost',\n  component: ShowBlogpost\n}, {\n  path: '/user-profile/:id',\n  name: 'UserProfile',\n  component: UserProfile\n}, {\n  path: '/:pathMatch(.*)*',\n  name: 'NotFound',\n  component: BodyElement\n}];\nconst router = createRouter({\n  history: createWebHistory(),\n  routes\n});\nrouter.beforeEach((to, _, next) => {\n  const store = useStore();\n  const userToken = store.state.auth.user_token;\n  if (userToken) {\n    if (to.path === '/sign-in' || to.path === '/sign-up') {\n      return next({\n        path: '/'\n      });\n    }\n  } else {\n    if (to.path !== '/sign-in' && to.path !== '/sign-up') {\n      return next({\n        path: '/sign-in'\n      });\n    }\n  }\n  next();\n});\nexport default router;","map":{"version":3,"names":["createRouter","createWebHistory","useStore","SignIn","SignUp","BodyElement","NewBlogPost","ShowBlogpost","UserProfile","routes","path","name","component","props","router","history","beforeEach","to","_","next","store","userToken","state","auth","user_token"],"sources":["/Users/francium/app/frontend/src/routes/route.js"],"sourcesContent":["import { createRouter, createWebHistory } from 'vue-router';\nimport { useStore } from 'vuex'; \nimport SignIn from '../components/users/SignIn.vue';\nimport SignUp from '../components/users/SignUp.vue';\nimport BodyElement from '../components/blogpost/BodyElement.vue';\nimport NewBlogPost from '../components/blogpost/NewBlogpost.vue';\nimport ShowBlogpost from '../components/blogpost/ShowBlogpost.vue';\nimport UserProfile from '../components/users/UserProfile.vue';\n\n\nconst routes = [\n    {\n        path: '/sign-in',\n        name: 'SignIn',\n        component: SignIn,\n    },\n    {\n        path: '/sign-up',\n        name: 'SignUp',\n        component: SignUp,\n    },\n    {\n        path: '/',\n        name: 'BodyElement',\n        component: BodyElement,\n    },\n    {\n        path: '/new-blogpost',\n        name: 'NewBlogPost',\n        component: NewBlogPost, \n    },\n    {\n        path: '/new-blogpost/:id',\n        name: 'NewBlogPostwithid',\n        component: NewBlogPost, \n        props: true,\n    },\n    {\n        path: '/blogpost/:id',\n        name: 'ShowBlogpost',\n        component: ShowBlogpost,\n    },\n    {\n        path:'/user-profile/:id',\n        name: 'UserProfile',\n        component: UserProfile,\n    },\n    {\n        path: '/:pathMatch(.*)*', \n        name: 'NotFound',\n        component: BodyElement, \n    },\n\n];\n\nconst router = createRouter({\n    history: createWebHistory(),\n    routes,\n});\n\nrouter.beforeEach((to, _, next) => {\n    const store = useStore(); \n    const userToken = store.state.auth.user_token; \n\n    if (userToken) {\n        if (to.path === '/sign-in' || to.path === '/sign-up' ){\n            return next({ path: '/' });\n        }\n    } \n    else {\n        if (to.path !== '/sign-in' && to.path !== '/sign-up') {\n            return next({ path: '/sign-in' });\n        }\n    }\n\n    next(); \n});\n\nexport default router;\n"],"mappings":"AAAA,SAASA,YAAY,EAAEC,gBAAgB,QAAQ,YAAY;AAC3D,SAASC,QAAQ,QAAQ,MAAM;AAC/B,OAAOC,MAAM,MAAM,gCAAgC;AACnD,OAAOC,MAAM,MAAM,gCAAgC;AACnD,OAAOC,WAAW,MAAM,wCAAwC;AAChE,OAAOC,WAAW,MAAM,wCAAwC;AAChE,OAAOC,YAAY,MAAM,yCAAyC;AAClE,OAAOC,WAAW,MAAM,qCAAqC;AAG7D,MAAMC,MAAM,GAAG,CACX;EACIC,IAAI,EAAE,UAAU;EAChBC,IAAI,EAAE,QAAQ;EACdC,SAAS,EAAET;AACf,CAAC,EACD;EACIO,IAAI,EAAE,UAAU;EAChBC,IAAI,EAAE,QAAQ;EACdC,SAAS,EAAER;AACf,CAAC,EACD;EACIM,IAAI,EAAE,GAAG;EACTC,IAAI,EAAE,aAAa;EACnBC,SAAS,EAAEP;AACf,CAAC,EACD;EACIK,IAAI,EAAE,eAAe;EACrBC,IAAI,EAAE,aAAa;EACnBC,SAAS,EAAEN;AACf,CAAC,EACD;EACII,IAAI,EAAE,mBAAmB;EACzBC,IAAI,EAAE,mBAAmB;EACzBC,SAAS,EAAEN,WAAW;EACtBO,KAAK,EAAE;AACX,CAAC,EACD;EACIH,IAAI,EAAE,eAAe;EACrBC,IAAI,EAAE,cAAc;EACpBC,SAAS,EAAEL;AACf,CAAC,EACD;EACIG,IAAI,EAAC,mBAAmB;EACxBC,IAAI,EAAE,aAAa;EACnBC,SAAS,EAAEJ;AACf,CAAC,EACD;EACIE,IAAI,EAAE,kBAAkB;EACxBC,IAAI,EAAE,UAAU;EAChBC,SAAS,EAAEP;AACf,CAAC,CAEJ;AAED,MAAMS,MAAM,GAAGd,YAAY,CAAC;EACxBe,OAAO,EAAEd,gBAAgB,CAAC,CAAC;EAC3BQ;AACJ,CAAC,CAAC;AAEFK,MAAM,CAACE,UAAU,CAAC,CAACC,EAAE,EAAEC,CAAC,EAAEC,IAAI,KAAK;EAC/B,MAAMC,KAAK,GAAGlB,QAAQ,CAAC,CAAC;EACxB,MAAMmB,SAAS,GAAGD,KAAK,CAACE,KAAK,CAACC,IAAI,CAACC,UAAU;EAE7C,IAAIH,SAAS,EAAE;IACX,IAAIJ,EAAE,CAACP,IAAI,KAAK,UAAU,IAAIO,EAAE,CAACP,IAAI,KAAK,UAAU,EAAE;MAClD,OAAOS,IAAI,CAAC;QAAET,IAAI,EAAE;MAAI,CAAC,CAAC;IAC9B;EACJ,CAAC,MACI;IACD,IAAIO,EAAE,CAACP,IAAI,KAAK,UAAU,IAAIO,EAAE,CAACP,IAAI,KAAK,UAAU,EAAE;MAClD,OAAOS,IAAI,CAAC;QAAET,IAAI,EAAE;MAAW,CAAC,CAAC;IACrC;EACJ;EAEAS,IAAI,CAAC,CAAC;AACV,CAAC,CAAC;AAEF,eAAeL,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
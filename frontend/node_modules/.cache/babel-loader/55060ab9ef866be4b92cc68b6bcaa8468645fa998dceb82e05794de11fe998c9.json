{"ast":null,"code":"import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, vModelText as _vModelText, withDirectives as _withDirectives, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, withModifiers as _withModifiers } from \"vue\";\nconst _hoisted_1 = {\n  key: 0\n};\nconst _hoisted_2 = {\n  class: \"text-danger\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(\"div\", null, [_cache[9] || (_cache[9] = _createElementVNode(\"h1\", null, \"New Blog Post\", -1 /* HOISTED */)), $data.errors.length ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"h3\", _hoisted_2, _toDisplayString($data.errors.join(', ')), 1 /* TEXT */)])) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"form\", {\n    onSubmit: _cache[3] || (_cache[3] = _withModifiers((...args) => $options.submitForm && $options.submitForm(...args), [\"prevent\"]))\n  }, [_createElementVNode(\"div\", null, [_cache[4] || (_cache[4] = _createElementVNode(\"label\", {\n    for: \"title\"\n  }, \"Title\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.title = $event),\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.title]])]), _createElementVNode(\"div\", null, [_cache[5] || (_cache[5] = _createElementVNode(\"label\", {\n    for: \"description\"\n  }, \"Description\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"textarea\", {\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.description = $event),\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.description]])]), _createElementVNode(\"div\", null, [_cache[6] || (_cache[6] = _createElementVNode(\"label\", {\n    for: \"image\"\n  }, \"Upload Image (JPEG, 2MB-8MB)\", -1 /* HOISTED */)), _createElementVNode(\"input\", {\n    type: \"file\",\n    onChange: _cache[2] || (_cache[2] = (...args) => $options.handleFileUpload && $options.handleFileUpload(...args)),\n    accept: \"image/jpeg\",\n    class: \"form-control\"\n  }, null, 32 /* NEED_HYDRATION */)]), _cache[8] || (_cache[8] = _createElementVNode(\"div\", null, [_createElementVNode(\"button\", {\n    type: \"submit\"\n  }, \"Create Blog Post\")], -1 /* HOISTED */)), _createVNode(_component_router_link, {\n    to: \"/blog-posts\",\n    class: \"btn btn-secondary\"\n  }, {\n    default: _withCtx(() => _cache[7] || (_cache[7] = [_createTextVNode(\"Back to Blog Posts\")])),\n    _: 1 /* STABLE */\n  })], 32 /* NEED_HYDRATION */)]);\n}","map":{"version":3,"names":["key","class","_createElementBlock","_createElementVNode","$data","errors","length","_hoisted_1","_hoisted_2","_toDisplayString","join","_createCommentVNode","onSubmit","_cache","_withModifiers","args","$options","submitForm","for","type","$event","title","required","description","onChange","handleFileUpload","accept","_createVNode","_component_router_link","to","default","_withCtx","_createTextVNode","_"],"sources":["/Users/francium/app/frontend/src/components/blogpost/NewBlogpost.vue"],"sourcesContent":["<template>\n    <div>\n        <h1>New Blog Post</h1>\n        <div v-if=\"errors.length\">\n            <h3 class=\"text-danger\">\n                {{ errors.join(', ') }}\n            </h3>\n        </div>\n        <form @submit.prevent=\"submitForm\">\n            <div>\n                <label for=\"title\">Title</label>\n                <input type=\"text\" v-model=\"title\" required />\n            </div>\n            <div>\n                <label for=\"description\">Description</label>\n                <textarea v-model=\"description\" required></textarea>\n            </div>\n            <div>\n                <label for=\"image\">Upload Image (JPEG, 2MB-8MB)</label>\n                <input type=\"file\" @change=\"handleFileUpload\" accept=\"image/jpeg\" class=\"form-control\" />\n            </div>\n            <div>\n                <button type=\"submit\">Create Blog Post</button>\n            </div>\n            <router-link to=\"/blog-posts\" class=\"btn btn-secondary\">Back to Blog Posts</router-link>\n        </form>\n    </div>\n</template>\n\n<script>\nexport default {\n    data() {\n        return {\n            title: '',\n            description: '',\n            image: null,\n            errors: []\n        };\n    },\n    methods: {\n        handleFileUpload(event) {\n            this.image = event.target.files[0];\n        },\n        async submitForm() {\n            this.errors = [];\n            if (!this.image || this.image.size < 2 * 1024 * 1024 || this.image.size > 8 * 1024 * 1024) {\n                this.errors.push('Image must be a JPEG and between 2MB and 8MB.');\n                return;\n            }\n            const formData = new FormData();\n            formData.append('title', this.title);\n            formData.append('description', this.description);\n            formData.append('image', this.image);\n\n            try {\n                await fetch('/api/blog_posts', {\n                    method: 'POST',\n                    body: formData\n                });\n                this.$router.push('/blog-posts');\n            } catch (error) {\n                this.errors.push('Failed to create blog post.');\n            }\n        }\n    }\n};\n</script>\n\n<style scoped>\nh3 {\n    color: red;\n    font-size: 18px;\n    font-weight: bold;\n    margin-bottom: 15px;\n}\n</style>"],"mappings":";;EAAAA,GAAA;AAAA;;EAIgBC,KAAK,EAAC;AAAa;;;uBAH/BC,mBAAA,CAyBM,c,0BAxBFC,mBAAA,CAAsB,YAAlB,eAAa,sBACNC,KAAA,CAAAC,MAAM,CAACC,MAAM,I,cAAxBJ,mBAAA,CAIM,OAPdK,UAAA,GAIYJ,mBAAA,CAEK,MAFLK,UAEK,EAAAC,gBAAA,CADEL,KAAA,CAAAC,MAAM,CAACK,IAAI,uB,KAL9BC,mBAAA,gBAQQR,mBAAA,CAiBO;IAjBAS,QAAM,EAAAC,MAAA,QAAAA,MAAA,MARrBC,cAAA,KAAAC,IAAA,KAQ+BC,QAAA,CAAAC,UAAA,IAAAD,QAAA,CAAAC,UAAA,IAAAF,IAAA,CAAU;MAC7BZ,mBAAA,CAGM,c,0BAFFA,mBAAA,CAAgC;IAAzBe,GAAG,EAAC;EAAO,GAAC,OAAK,sB,gBACxBf,mBAAA,CAA8C;IAAvCgB,IAAI,EAAC,MAAM;IAXlC,uBAAAN,MAAA,QAAAA,MAAA,MAAAO,MAAA,IAW4ChB,KAAA,CAAAiB,KAAK,GAAAD,MAAA;IAAEE,QAAQ,EAAR;iDAAPlB,KAAA,CAAAiB,KAAK,E,KAErClB,mBAAA,CAGM,c,0BAFFA,mBAAA,CAA4C;IAArCe,GAAG,EAAC;EAAa,GAAC,aAAW,sB,gBACpCf,mBAAA,CAAoD;IAfpE,uBAAAU,MAAA,QAAAA,MAAA,MAAAO,MAAA,IAemChB,KAAA,CAAAmB,WAAW,GAAAH,MAAA;IAAEE,QAAQ,EAAR;iDAAblB,KAAA,CAAAmB,WAAW,E,KAElCpB,mBAAA,CAGM,c,0BAFFA,mBAAA,CAAuD;IAAhDe,GAAG,EAAC;EAAO,GAAC,8BAA4B,sBAC/Cf,mBAAA,CAAyF;IAAlFgB,IAAI,EAAC,MAAM;IAAEK,QAAM,EAAAX,MAAA,QAAAA,MAAA,UAAAE,IAAA,KAAEC,QAAA,CAAAS,gBAAA,IAAAT,QAAA,CAAAS,gBAAA,IAAAV,IAAA,CAAgB;IAAEW,MAAM,EAAC,YAAY;IAACzB,KAAK,EAAC;iEAE5EE,mBAAA,CAEM,cADFA,mBAAA,CAA+C;IAAvCgB,IAAI,EAAC;EAAQ,GAAC,kBAAgB,E,sBAE1CQ,YAAA,CAAwFC,sBAAA;IAA3EC,EAAE,EAAC,aAAa;IAAC5B,KAAK,EAAC;;IAxBhD6B,OAAA,EAAAC,QAAA,CAwBoE,MAAkBlB,MAAA,QAAAA,MAAA,OAxBtFmB,gBAAA,CAwBoE,oBAAkB,E;IAxBtFC,CAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}